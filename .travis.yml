# Copyright (c) 2018 JAX-SB
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

dist: trusty
language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml && rm -rf ~/.m2/repository/org/jaxsb
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -e -U -DskipRTests -DrepoToken=$REPO_TOKEN clean deploy -P javadoc,report,deploy;
  else
    mvn -e -U -DskipRTests clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: SkfhFmdOfYjGxXTAvyoO8TqBAFqNzk+of4nMO4qse3IiW6Wi9BYE/P5k1Ok0wrjGgzkQoKeFwypTHVJV3vdAODx0seFgrKlZVPXxoFvb0DZ7LSOlc9yyKb1yC8EN3v1LnMd9MCHKVHa5RN1GJ1PTsZsM150PbzTn/yjSg/r3a5xmTJk6GeV8+h9+7BaPJxH3ynh+QVPOy1oKJrpLA/i09K5dsdmncfSrBdQS1W5aK60XOeFNySz3fRXbCyab5h0ktyS81FXqzL4fkKqWtNkQWysrv4tjtzLuF9KIe0zM2HkIH0eBR5i5qklwP/1ZTOgbVcrf/A3PqI2uDQFjevCi7dni1cIKbK7hiLLAAD0f+6f5pIxfrd8UTzlP8TOmQaeKgoxtSnvOuIk6RYzSMjuL4JkAXFo7RjyifDxkqpWsUrSvD2ZlAkSbBkpFOBJfWaa80Gaa3mwmNRRSeGd6wUCy3db4Z5yMLsZbtloewAd/L51YxstfhB4rEZZR8rNoBv+3Sk0MksNta7gie0Zr8TDSZgtdd1yFJPmTmj5s2GHBCMZXrSeF47z+W6I4QAPNo1e7do04HPOnLB0EmgKJ4SIrUEiyc7sAwM7hNbjWaP7prBA+lXVWuU8482asbdu+/zFXXrDYWrsNaoaWOOFAvphpfs5A+fwuO5xag93EKCeEOQM=
  - secure: iOfl3oAthY6cYFkRBKx9VygMwm09j5QLc6k5BF2NrtOKH66I1/hdsquteGahNpQYcTA/LYAtr6OYOPingbEyAOJ7F3st4ILZlwZOaoj+1QKppGrc6vLUI5N6/3AllmX/sSQ3aCIhAj5K6HtAOul5X2ehOggrnC4cMS5WG4WuyIMC2KuY3Jdb2GfpM5pynQ+kTTmvOT60cb+dnz7U9hEsksWfRWt7xkHJheAKN2uS1xwrQPeANWrUKCNhHS31PLjWgH/2xoC0d3rTG+bzyEODf03TpQka2ITRwjRPY7EwDyuIWYnk/9STBs9YxKeWLyaft30jx2toj+ekzgGTSBJi1tmmJdL/78xDeZmBUlBiuhuTjnEKhjFNiA/Qoe9GBXtiLjheqidwKdQ85faylbDaTEunn86xglyrRG9Eic7uYHzKSVz85omfZ9zWhfsdSq+woiztAOCY652UCuNI/9Igh/VdMqsw0pJivPLkvXtv1yGe9A1piUE2O/idt5sIitxFHOq1xu/hR/ZpF3F5AiBjcIK8ugUq3dJRMkJ5k2OJ5VxGjFVovvuXHFymNGLcad0qTyS6luTHHTtPB9N6CYtkaWocg+IPqb+UlCw60heKKmxzsw0BWUgUn56TduTVPDd8kxM+NswE4hmZ+Hbx+Vsue6lYQNT1LP6CPzqmZIruaTs=
  - secure: gay0Mxstq0E+W3wDido2aVcg+WGD8W5PhNlRyxyl36pGPAxg83VwISTkUkYxVXWsZ/Q+xzQPUBU0BLtUzEp8hyjWsyWC47ba3TIRIAnH0F9FG9I0yYYZFqNi54JAVd7offRFwoGx3VlLwCyOfD+zkzDbDv+0znR8IFZsPeuXk3SIbUiHvVt8SO37NMJK5/cEes3FTZCGe+P+coa4f/WXVSkdmb0ijV02sJ9etotg+PXU67ceW+lnm6d0reVbhfrLMB952Fr56MrNcDGwBWNkeU5kLi3/SA7BNtlCZG1mCgogWhrHteAKzE8SBxHQumCHfsynJNZoiPsZ7y0Q4JB83mpLExJSz8uwOjx7RKP3IW3o30n8mrWDKUp7u9Jw+Y3smS1jGsvoxyxbKUFLYoi17ea+kQopcOKxVvPMMabHf1FtyD0AiYrmuTZVKAS+UK7nMg5grc8XRixvCCs+AT8wxtyPfdzVXyCcPi43va+4U8sAm5/JZfnVnBIcmo2GrijbHCRwLb8RnDIwOE7+s3fV+ny8zsl1P5rYxEtpvpuG1JXrpXQvqU6fFZbJLzmZgtN7Jyt6uuw7FFsQTimazbKxcmczoH/0weV2oO1S7/kwRblsfiA753xvfxnGVXB8lJvgusoopFSbH2fBhQNHSGxMXHWpDgY7Pns2vdd3DiJDg10=
  - secure: FBbq9NlpfrcZlIMF3iwTPI94mmIj4kA0c4+5IbEv/5a1E3bICUgpWpeWDSzhjFvsB+/IDHO/v5x0WQCo1hGXaV7T3HUQN34dI1x0mt9CIHGTe5fuc7yllcbJVhDTQXnUYfJ/VuQ9M212jOYcn8BgCPkT8xuNdPozjxdiHFclYKOpcr8ZESoIXqPl05is+jKjODhOZepQFgkVUlZhblpC3mg2Mibv70l0LWFhmyfBJeTw97TZRP4g1oFcw3Mm7vp/p9JmYgsMKF27xhwocDxbFpj7JXQfTtF7ySwAIlEPCrmRmtbxLNSh0EaFa5hrSuIfnX0MylgBQYG87gvrD2fW16QzqBl81d3HBWpPtOOKBY2vI5Yi/sI/qlpPNQKSRa+Gt0rCKGUFdLUyZpHhcPQT9IJzgdv1gIV5XuoSqZcrI8TuzLh8BSWd1sAiImnH6B9Cnnknr8Aw+upQsMUBnLKCtZ1B4qwn6tXz+ciFi8aqbfMqg+LBvVQ4oe72RNVN1/VwlEZvWE7QG1wpDYPlIcGNgnz90l/bxbbVnVibc0C7QOUSarXvrSfqwnwEcdo27qLpeIHCQIizI9pVMysTPkMKfK2nAPHVvOTxsKIU5wn/Cntx59UIEUGCY8PPXYxX30BEn8vQz+5Xk6CJeby95LDMLa/JAS7ZIw8vW2dK/YyaJcU=
  - secure: sFjiLfuTEdjCHRevgDwusFaCMJ1AuiC58kEjaqdq+5tVh5XoUEZpu8PP34vZhaWxrTu0FPgXyXRTMhuTcXxkQbbG0OsyxNySgpYu5ZKqVBqJMMIpGhbv043U3X/3JrY5o0+GmeP81DvmkUlYWIHLCaMeGDKyIUlenkcoRO7J0G+7ppEl1z8uyD99aUQHIJD+XXM+YBcnHL5J0ft/UKYxoIDfgyLcAmDbdtUdNvBWySMjlICGYuKQqZ6vW4zoa+HQrGajHOo5CRvydpTYEdavaLEm1dbHDy/im16fbmb+90cozooltfHnuMfTCsxgQwTmpRvutGLo9ChEjSC5swijIjiJEV9ud6rp/Yios3eOIyIidkir8YodQaUy8KJzOqcLhB+Mkspgukubq2s68Wd8/H351fisFecOYSu9WOb9uXeQtI0KK5IO41El2ReFplD88a8g00dPv3VvFUIypgGZS4jcdUhKCb1YqOkrqf4TCpdm18vfDd/AElzzt5TXhKpECDegcVnpnsV/OCDv2bBV9FXp+LOmfxvcjMjXoyFp0wjKamr5o4ED+GI0wWOy1luWbqF2xOEAeRXDg1NQ8PH83eekL6jYKBjORIplpkyZu1A7PvsJYGDOVVfaldZpXY2N12/ej6CQ/tuttsOnQQ3FX0/yvrQDYZMfAvrYMQw5ZtI=
  - secure: YdsXaagYuZJrb89Iji4kyu/VqKWrC/d64eWGZBJRLUU12ZJ2WJi8ABE/evO//+7+/6BRn5fbmxWEXt+KrR72TbzzjSi8E7ItN8ZEhVy2AMIX4I6Vr/8wMMalJKXhSDYovxz5Np60C+0uNU7e5aipzNU+9X5WzwSBozmwTZikshjJ7VX8aOOlwSUQbiYyfM1VuUJ4Fmd0ZjwJOaFwOpb1+xmF9NO6yAerWCWLYPq7xjC0oh+POevkwix3T65J4HYrZJ+Mk7mQKAzCjs0wF45bhNFvnO9DTvVJm98T6U8/swCivFB0zLEY2f4GAdpxnF/sJ1vTe18rcred4dUsMRK8kLMy+uIuBUf/qGeUuvoqF6U7eu30BVIKrNoEUmtHTq4l8VbbgK5fv+vMO1AKk5h9n1lAZIL9bk7NnnRWj14AksGQnnnTauOaQPbJ2vQJLul282OnTbrspE7zk6uZPZ4FMDqHeRngr5UhjAEd/A5qwm5C2dmbSGBM+5MUjbRXsuZrc7E/PP5TcbHxIbpGIYMEi8RDAydqbEHi9kFYK5aTmFPd3DcfU0fC6mE8uBFatxwVKZAU89R/kUhE9arQ2URAwIz1Gs8QXQ21PVay2ljHs9NN3mHKIP0LO1T0+lSBwzMbGx6g7r1S78g979cEKSPJdZQ1AtL2mjEoXF8hpGd6+ek=
  - secure: i9IMf7JnIhu5AH9FgmnhlYyPNu+FvEfIrC5xua7eK3zu2lUK9esLFOikNB9/74DMGhXjdgldR2WQ3aRLZ4eVNCjp3yl/Efl4RIDQYRdpWwYRfJjJgVFrKFgAhNNQH8KIseSVGhKsYLGoBpafRGgavCWI3ncgZlfoQtbyW4daiQcR6OJaSIm1SCBj9YPog3KcKt0evlwL5JirBmDO78f9W7OigZwJLS/JmeL9i5EQbzxIfjkCqs+d82RGi9BAN0AIV+ZjwaEDWl0Vkz8iqa2OGuyiHo4OamScSsST7x2pXjyJDWE/zCfE2Sw47VbxYBmTwDj6zmfbeRXOijToFavaq/3k9KAOyrEkHeigD9k/mdPTi1hZ+OGvIgZlnLNolnco2CkEgvpemIjFdqm22CBOt40RNKbES7MG2no+17fDIC9jyj9n9VkeJNJDe2QsvtjklBejVoo9sc8TnK4dZtrY8+LYMkbSjuNN1DmuPl61lIZPZ732IMA6lenJkhN18rMx9ZnGnc/+sBgKu7fK5sz4cocpAaWFAdJQ7QDuLXTvemJKvAFM0pmBpb9WzbAFoYLqAqJAzsyLN49yHgZ/z0NckuQPoOC0AtjaGlIQz55K6IX0UJyH4HkafwU680x7Npm5NZNjDOo4e9RebAEV6oagw6btTkolwuRuOHyTWk0vVSY=
