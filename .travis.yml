# Copyright (c) 2018 JAX-SB
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml && rm -rf ~/.m2/repository/org/jaxsb
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -e -U -DskipRTests -DrepoToken=$REPO_TOKEN clean deploy -P javadoc,report,deploy;
  else
    mvn -e -U -DskipRTests clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: Ju+pXKvKSaSwZ+QqFXpXN04bAB2qu/DbDXMfm02vr3js1NbWJAGpZ33Hrq7+ydCQTyKWNUrO9Bf8n3JPYcbQepCUQ/VeQ4I/DJdEFT5f7zOg3ehHCFWgGhAQi4OrPyyGI007kUCI/IY0dJXUhN8Qq0X2Mkt0sjLWuueQpCT2s1lVwB6aQngurWYC43fjXDq7OR8koSj1XtJ8EUVqn7pEOipzERuvZTpMGRDzAgOiDq6N8I/0ZficjxWBLpfZhqT52IydNNngC87ej2oT9VVw+E9WypIlXoI+gbzXK+gx1TW6nK9RRl3kTiwMgvhK60UaDXkLn3xRIO6Ovq73QBrmbTBpL5dbQdhAJh6+cz/UcTnXwFW54Bsl8EyItdhQuzLSFEo6fBpf94DlmdYpKd1paip8Ucyhd1NC5zDz7KXfSmKmzPiCyMu+d+VSyP3RCfL3lCd9vspPzXAFRw8/FaclCZr3nohz9KXXDQg31F3r4MDB3Jdoxs8rYOnhYQcfDjhgEqqJR1bP9gEen70if10909aVkkF7hKz5JZ9jZ0Uva0ApqrUgob9PtCeDWJbBVTu3ivZVLF2GvZsKUzRqx88+PERIyTqDsM438GivYvTcnkR8NZAqhJNFIbsC3gFve4pMdFSu/QQXxQU09xFyh8sV66HpIZ9seOTGRPAcjFn4tc4=
  - secure: B145U22fP30V31jpvF/8f7lPf3bVRgdDH2P/q/4aWsTJDM74s2x+7mi6wPJZtF1AY0WKDA/bCXFfq8LYdH/lwlVj5Hh2eT9Zdb2lSEyQMWdP9YI+PR3QRuxc+QBrZy9BSiDb7HKs42thmBMosPOfBWu/h6Uy7YBAMx5IJbWUKtdY3cJNALur+Ae3KgVD20zBJrVoNlkDZT3394YAzNboYyiHpSxbW4M0uxkg1X9cK5AK4B5kD4L5xSEDPHynArGXQ5h+EYLDpUM5Pro8rZljzu62vBf+D+dgJY7e5TRl8bjtwtwwYv02kmqMIFztT1W4qbZ4K1RX6M4gHF0GUWYb6DaTSRaWJtjCzI6jYLGMVBAJ//EMjk2j3ULOPycXqIKcCv9z7/VyV/DoQtu3/SSN3jBkjJx3TCSEmVR/+vTiMjlWxnbklWk2R7wjaKeR/vhLIbV06mMR2IdLYQ4aKZSMKShEgZZ4ahRxGqa8OnFrTrnGveMo0lLepJGkK00TdXnihMnGwmqv1RmeD2M3bgfb1pEclu3Hmis27FFYriCLpfZrmt4sBfHzvOCP100sqfhEKdXwudwidQKXe328DrGxT2tGNTRQbVF1ByhBSIDbNjDdGEaJEKjd8Vuy7c40T6xdlNNuUIgqxwRjWXFdzKkGU3y7ePV+0bHlG+F5lJZjm/Q=
  - secure: imORZYvQ45IzU5SNzBhxWmc/hqoYY1p0EYk0wd3YlBI7+PFn6PtPVyhQMCqxMcKpNA3xXv8LQYZFY42yaasC9nJHJu6WqFPacab5mAYv2Z5zsFF1rTyr2GyRKfuBUFH6eQKgrcvAfZl1TZtLso2umNjZeAktcc58IT3BAP7iqNpod3HeqE0Jr5tpn5BLHSLGm6CeTCebMag69kUFBlbW1V8DLVkmIOueiu9FMurv4dAjJKKKyznvu9FuaZexfk6VOFE/21FQBO6CGVscuZRYvvRcdPdrVITuubmkGSJdhiOfvJVKP4fk0hspdYpjl6+RBBENdyZ33lzqEwXYQRfI5gUPnW2vPJmOuU30mfZvPfeGSgclhrW872mZicKagqWqbAxV6aJv4P8QSmPYEVoDgN97SJdJ3fimdNgdA5ocj9339o32kDcI0PeNzLmPmo3neVw/5EXVQPYdz9kcOoFdzIARE/2Jk7nBDF8Quq0yL2a/BSQWgyiRyqXHb41pToWr5Dc/kAniiz1jVT2DQfIGJH0DOnUghY8TJPyzLSH/gJWWqer7TfBRPVXY/RpH2cZeRRtUxot/wHcoQ6laJHkoZkjHaSrCW8gsFOEvFAe4vFM5HJrBKdAwQb/FBtyAdXr4KGUBBvx+y0U+N+nttEUIoj1/jq1peohwjbcI6r//+GI=
  - secure: gwXlgGwoqKg7bmUgOQVTGpTGw9c3fazUeOQrfNSQwdX2OLOB5rQaKwOPBbgP/w5PG4f1XJVr4ibkq3d5uvyOdrWpfTbo1I3ckhshgZYz/YRtRV8V3gvc60z+10jh8SB5zImDqUcbgf2YSaRRJXIb8c3PPSDv86Co0RtM6aKTpnDeIKwoTJgPGD2WX7uvYP+iYyd3uAimbJd6P2E9CBsKAkO/0c6YI7DbBWYPfItlmWqOewbn8UPjvgoGQ0f5Yy7H9IvL7wRcyShpJkrLI8VZ9DJMRNcrmXeq96m5JXH3PR2X9cij/QpBSG13h7U1fo5HoKlcSX5p5if1zkOjlioFWkscuUXGaNMd0C67fbC3ERNRwCI2ZoMxI3+ju5nbvkhNSVpWHo1WBKlkQrErJbUCJB2tGbofO/zleOA+NKmNwslYzCrDtW7kSvOl/LToouXwE3itrFYwGqDj4Co81T2IkINuoAAOHngEVekflAntv1YfDgrhCqo+Y6nUbOzLeXudSYKCsoFGuag+VSCCDQSp5gCTSgVpQxImVPjBFav59fhE9B4dRzGOpQ+syfHKLi6HJ9cj7nGE+udoHTj8fKr6Q13EbwKksYnt+2v9/Yz6v+uurRUj8V+YY6PKe2h7JYl/F1SL7e+6WXfGIqOSUwIGRgopCBl+8bBPiFQbPw++Dg4=
  - secure: vOlmpEg6ZJsGvc4F79DOJu55iWGR2v/r7dc4SHDMVkMU3DIqdiTytYRX0w1S3Lk3DecZyZvde4mDGzKmZyACbpIU7lJw0WVd0UI8x6vfQtc76wBwzb2lmvPiew7QJFvP5p17Cd+Gkswpq0a34uG6HNoadhnhWaYnT/Nxf+dFnUZ8m1cqbps61o9F2+JBwStzE1sd5N2FkEf1UaTRXlXp8Jq7atM0nxYZIW0Y1qs/c8YtUV8URyTL24Pya3tHotXrWoiAwdIYOaYR5kmZjHYtvXKeS4E6bOlUwv4dv8angJPv5g5KgujzIQurK5iYdf8I+gyJlk1xXi92+eDlvsFPUvbkrE2Zq+jDzIFxCYdUmz18k/P7sBm11I5WqcW8qPGvjAN8gO6IO9oIxlub/FyoqZgthr0mNPDGP2dvvtgWF+GKO8ZPMslwQ6X5ufBVmdB+tuJfvPTui0RWucEDdNIUtNKSkHC1jjHYvFgvsrJp/M4g+wbnk4YimCLJs+fZkyWmA5UeZl7I4ltEi1/6lMzckHWJ7/O6hgIOTZNMnPJ38Pj1GrlkBrIepi1+NDQU/GSoG93SGQ87MtjC9WgUopDEuO1iOZo+ssiCqc9IRsDCpkvIBzi0OvQtVzfCgwaaEppWAQu5EDaI8wo/IwTbekZhOoekqa25jEho74ei8djYS5w=
  - secure: hDZ0Te/9mC9x39zKMxhSN//JpJoXrPRsNgIrnOEk+sYdruH6WwYjNMWyX6Be1Gy+3gjx4Erdl/Iyy+sMF9JnsYb/pfM9TgFuSg0Q+FLV0VLmVbfm7pICry9BcVnSKbBws49bxrsHnr37l27sQOkQqywXGZhI+gscnXEH1YftXKBeZQicbrlhZEYdvE3cEVMBAl3R3k5M7PMcbTlmbGzS7Bx4ksvka9jHKNJ848f8e9i4HpN3jEKhfGIX8zGSX6aJD+1hb3+BpN2xArUmBz7xz3R383DYEpZvvBYQ/N/mxiYe370nU4AjtbpMFBL65PvHctORbo/AqO1b4PxSIwAiLq1aiydsGyHK0cB0zPck45ZESuWBKO3tsQVfYXShyK24/vQ21RCsrec/Dvx7mx/NwQLSdM+luTmXa/FXaVrWjxkZcjG1veLkCSCO4xoGpGv3CzOw78j9yu1askFslikwkwS86HPufGSuEmCfJtVUyDw58pyGfq6TeFiQZghRszR2nQaKEeNMK7NW/wKGMmCizdJXzMWbQXufYkNpwLVdzPQC3Y+k+17mZFb0FTq9o+rO12SdJFK5v56t9rrtD0F+SCC4rGPuaoUEz7bn1kIYUqHxnbwnInGvOyFxQaVoPkeioBoC//7NYre6l1B27DKhKU/sKBH0Ox1fGN+hF79yQUs=
  - secure: sfPAR7zovdAL1iUU4Hv0wFtttCJPhIwHL3G8P/P3Otkq+UDmt+KRVIfI3JHTeD+4I0prUQkKEc1w+m+UmMa9M3rIlIvxGtXqtd3a3aEvNJnY0vwAsrPPiP9Uspb8uv3lVt+QZRBP9ghLxhfs627Bvv7le7TkwqNchW1pZcICNI96xDohtltA3Ewcva8tKWZIbyh87cbvgtggxWQ4UFD+E+Im8CWc2Iso2rogNGQHdKJHkiDuiiCIWrL+8tAhJL4NMPaVT9AMHJS8j91STz//wbdKOEWTUxChwH2/mysveVjjL4E9AEwMNYvPlxT+AEVNg05MzCt0MDdmGSkWFMrFt+/ci4iqQi3kzWbqslAVipTQoeIOF1P3V1gxq7o1+QDfJkcUiDKoK8jfkT//q1pxOl8MPOluFTk4EISoAwZ1C2VypoYPoL36vzZDnZXxqlSpa2QL9e6PEPdpL4tDkeSu19EB1XHrZtWQf8Eyf0JmLSGtu8kJVZ5KOnc2FCQBnUSwMq9X1BrlDWutXj/bDlpXk1kEbmqngbYANZfgMEQf6PPXoBkUPF8mqT9dDxUTOdy2oJDVsMa1d24Jgs3Stwpa7L11CbjwH2VxIuLfGiWKpTfhrqW6TGXLZ6L4L3IPwQ1+PjVbnjI6tkVySdOpBQBBE4+oNQtLxOYO8G2ibrLR0uQ=
